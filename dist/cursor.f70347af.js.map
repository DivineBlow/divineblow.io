{"version":3,"sources":["js/cursor.js"],"names":["circleCount","circlePropCount","circlePropsLength","baseSpeed","rangeSpeed","baseTTL","rangeTTL","baseRadius","rangeRadius","rangeHue","xOff","yOff","zOff","backgroundColor","container","canvas","ctx","circles","circleProps","simplex","baseHue","clientX","clientY","innerCursor","document","querySelector","initCursor","addEventListener","e","render","style","transform","requestAnimationFrame","lastX","lastY","isStuck","showCursor","group","stuckX","stuckY","fillOuterCursor","initCanvas","shapeBounds","width","height","paper","setup","strokeColor","strokeWidth","segments","radius","noiseScale","noiseRange","isNoisy","polygon","Path","RegularPolygon","Point","smooth","Group","applyMatrix","noiseObjects","map","SimplexNoise","bigCoordinates","lerp","a","b","n","value","in_min","in_max","out_min","out_max","view","onFrame","event","position","bounds","scale","forEach","segment","i","point","set","scaleDown","length","x","y","noiseX","noise2D","count","noiseY","distortionX","distortionY","newX","newY","createCanvas","resize","initCircles","draw","Float32Array","initCircle","t","speed","vx","vy","life","ttl","hue","rand","noise3D","TAU","cos","sin","updateCircles","updateCircle","i2","i3","i4","i5","i6","i7","i8","drawCircle","checkBounds","save","fillStyle","fadeInOut","beginPath","arc","fill","closePath","restore","createElement","appendChild","getContext","window","innerWidth","innerHeight","drawImage","filter","clearRect","fillRect"],"mappings":"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","file":"cursor.f70347af.js","sourceRoot":"..","sourcesContent":["'use strict';\r\n\r\nconst circleCount = 150;\r\nconst circlePropCount = 8;\r\nconst circlePropsLength = circleCount * circlePropCount;\r\nconst baseSpeed = 0.1;\r\nconst rangeSpeed = 1;\r\nconst baseTTL = 150;\r\nconst rangeTTL = 200;\r\nconst baseRadius = 100;\r\nconst rangeRadius = 200;\r\nconst rangeHue = 60;\r\nconst xOff = 0.0015;\r\nconst yOff = 0.0015;\r\nconst zOff = 0.0015;\r\nconst backgroundColor = 'hsla(0,0%,5%,1)';\r\n\r\nlet container;\r\nlet canvas;\r\nlet ctx;\r\nlet circles;\r\nlet circleProps;\r\nlet simplex;\r\nlet baseHue;\r\n\r\n//Cursor function\r\nlet clientX = -100;\r\nlet clientY = -100;\r\nconst innerCursor = document.querySelector(\".cursor--small\");\r\n\r\nconst initCursor = () => {\r\n  // add listener to track the current mouse position\r\n  document.addEventListener(\"mousemove\", e => {\r\n    clientX = e.clientX;\r\n    clientY = e.clientY;\r\n  });\r\n\r\nconst render = () => {\r\n  innerCursor.style.transform = `translate(${clientX}px, ${clientY}px)`;\r\n    // if you are already using TweenMax in your project, you might as well\r\n    // use TweenMax.set() instead\r\n    // TweenMax.set(innerCursor, {\r\n    //   x: clientX,\r\n    //   y: clientY\r\n    // });\r\n    \r\n    requestAnimationFrame(render);\r\n  };\r\n  requestAnimationFrame(render);\r\n};\r\n\r\ninitCursor();\r\n\r\nlet lastX = 0;\r\nlet lastY = 0;\r\nlet isStuck = false;\r\nlet showCursor = false;\r\nlet group, stuckX, stuckY, fillOuterCursor;\r\n\r\nconst initCanvas = () => {\r\n  const canvas = document.querySelector(\".cursor--canvas\");\r\n  const shapeBounds = {\r\n    width: 75,\r\n    height: 75\r\n  };\r\n  paper.setup(canvas);\r\n  const strokeColor = \"rgb(255, 255, 255, 1)\";\r\n  const strokeWidth = 1;\r\n  const segments = 8;\r\n  const radius = 15;\r\n  \r\n  // we'll need these later for the noisy circle\r\n  const noiseScale = 150; // speed\r\n  const noiseRange = 4; // range of distortion\r\n  let isNoisy = false; // state\r\n  \r\n  // the base shape for the noisy circle\r\n  const polygon = new paper.Path.RegularPolygon(\r\n    new paper.Point(0, 0),\r\n    segments,\r\n    radius\r\n  );\r\n  polygon.strokeColor = strokeColor;\r\n  polygon.strokeWidth = strokeWidth;\r\n  polygon.smooth();\r\n  group = new paper.Group([polygon]);\r\n  group.applyMatrix = false;\r\n  \r\n  const noiseObjects = polygon.segments.map(() => new SimplexNoise());\r\n  let bigCoordinates = [];\r\n  \r\n  // function for linear interpolation of values\r\n  const lerp = (a, b, n) => {\r\n    return (1 - n) * a + n * b;\r\n  };\r\n  \r\n  // function to map a value from one range to another range\r\n  const map = (value, in_min, in_max, out_min, out_max) => {\r\n    return (\r\n      ((value - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min\r\n    );\r\n  };\r\n  \r\n  // the draw loop of Paper.js \r\n  // (60fps with requestAnimationFrame under the hood)\r\n// the draw loop of Paper.js\r\n// (60fps with requestAnimationFrame under the hood)\r\n  paper.view.onFrame = event => {\r\n    // using linear interpolation, the circle will move 0.2 (20%)\r\n    // of the distance between its current position and the mouse\r\n    // coordinates per Frame\r\n    if (!isStuck) {\r\n      // move circle around normally\r\n      lastX = lerp(lastX, clientX, 0.2);\r\n      lastY = lerp(lastY, clientY, 0.2);\r\n      group.position = new paper.Point(lastX, lastY);\r\n    } else if (isStuck) {\r\n      // fixed position on a nav item\r\n      lastX = lerp(lastX, stuckX, 0.2);\r\n      lastY = lerp(lastY, stuckY, 0.2);\r\n      group.position = new paper.Point(lastX, lastY);\r\n    }\r\n    \r\n    if (isStuck && polygon.bounds.width < shapeBounds.width) { \r\n      // scale up the shape \r\n      polygon.scale(1.08);\r\n    } else if (!isStuck && polygon.bounds.width > 30) {\r\n      // remove noise\r\n      if (isNoisy) {\r\n        polygon.segments.forEach((segment, i) => {\r\n          segment.point.set(bigCoordinates[i][0], bigCoordinates[i][1]);\r\n        });\r\n        isNoisy = false;\r\n        bigCoordinates = [];\r\n      }\r\n      // scale down the shape\r\n      const scaleDown = 0.92;\r\n      polygon.scale(scaleDown);\r\n    }\r\n    \r\n    // while stuck and big, apply simplex noise\r\n    if (isStuck && polygon.bounds.width >= shapeBounds.width) {\r\n      isNoisy = true;\r\n      // first get coordinates of large circle\r\n      if (bigCoordinates.length === 0) {\r\n        polygon.segments.forEach((segment, i) => {\r\n          bigCoordinates[i] = [segment.point.x, segment.point.y];\r\n        });\r\n      }\r\n      \r\n      // loop over all points of the polygon\r\n      polygon.segments.forEach((segment, i) => {\r\n        \r\n        // get new noise value\r\n        // we divide event.count by noiseScale to get a very smooth value\r\n        const noiseX = noiseObjects[i].noise2D(event.count / noiseScale, 0);\r\n        const noiseY = noiseObjects[i].noise2D(event.count / noiseScale, 1);\r\n        \r\n        // map the noise value to our defined range\r\n        const distortionX = map(noiseX, -1, 1, -noiseRange, noiseRange);\r\n        const distortionY = map(noiseY, -1, 1, -noiseRange, noiseRange);\r\n        \r\n        // apply distortion to coordinates\r\n        const newX = bigCoordinates[i][0] + distortionX;\r\n        const newY = bigCoordinates[i][1] + distortionY;\r\n        \r\n        // set new (noisy) coodrindate of point\r\n        segment.point.set(newX, newY);\r\n      });\r\n      \r\n    }\r\n    polygon.smooth();\r\n  };\r\n}\r\n\r\ninitCanvas();\r\n\r\n\r\n\r\nfunction setup() {\r\n\tcreateCanvas();\r\n  resize();\r\n  initCircles();\r\n\tdraw();\r\n}\r\n\r\nfunction initCircles() {\r\n  circleProps = new Float32Array(circlePropsLength);\r\n  simplex = new SimplexNoise();\r\n  baseHue = 220;\r\n\r\n  let i;\r\n\r\n  for (i = 0; i < circlePropsLength; i += circlePropCount) {\r\n    initCircle(i);\r\n  }\r\n}\r\n\r\nfunction initCircle(i) {\r\n  let x, y, n, t, speed, vx, vy, life, ttl, radius, hue;\r\n\r\n  x = rand(canvas.a.width);\r\n  y = rand(canvas.a.height);\r\n  n = simplex.noise3D(x * xOff, y * yOff, baseHue * zOff);\r\n  t = rand(TAU);\r\n  speed = baseSpeed + rand(rangeSpeed);\r\n  vx = speed * cos(t);\r\n  vy = speed * sin(t);\r\n  life = 0;\r\n  ttl = baseTTL + rand(rangeTTL);\r\n  radius = baseRadius + rand(rangeRadius);\r\n  hue = baseHue + n * rangeHue;\r\n\r\n  circleProps.set([x, y, vx, vy, life, ttl, radius, hue], i);\r\n}\r\n\r\nfunction updateCircles() {\r\n  let i;\r\n\r\n  baseHue++;\r\n\r\n  for (i = 0; i < circlePropsLength; i += circlePropCount) {\r\n    updateCircle(i);\r\n  }\r\n}\r\n\r\nfunction updateCircle(i) {\r\n  let i2=1+i, i3=2+i, i4=3+i, i5=4+i, i6=5+i, i7=6+i, i8=7+i;\r\n  let x, y, vx, vy, life, ttl, radius, hue;\r\n\r\n  x = circleProps[i];\r\n  y = circleProps[i2];\r\n  vx = circleProps[i3];\r\n  vy = circleProps[i4];\r\n  life = circleProps[i5];\r\n  ttl = circleProps[i6];\r\n  radius = circleProps[i7];\r\n  hue = circleProps[i8];\r\n\r\n  drawCircle(x, y, life, ttl, radius, hue);\r\n\r\n  life++;\r\n\r\n  circleProps[i] = x + vx;\r\n  circleProps[i2] = y + vy;\r\n  circleProps[i5] = life;\r\n\r\n  (checkBounds(x, y, radius) || life > ttl) && initCircle(i);\r\n}\r\n\r\nfunction drawCircle(x, y, life, ttl, radius, hue) {\r\n  ctx.a.save();\r\n  ctx.a.fillStyle = `hsla(${hue},60%,30%,${fadeInOut(life,ttl)})`;\r\n  ctx.a.beginPath();\r\n  ctx.a.arc(x,y, radius, 0, TAU);\r\n  ctx.a.fill();\r\n  ctx.a.closePath();\r\n  ctx.a.restore();\r\n}\r\n\r\nfunction checkBounds(x, y, radius) {\r\n  return (\r\n    x < -radius ||\r\n    x > canvas.a.width + radius ||\r\n    y < -radius ||\r\n    y > canvas.a.height + radius\r\n  );\r\n}\r\n\r\nfunction createCanvas() {\r\n  container = document.querySelector('.content--canvas');\r\n\tcanvas = {\r\n\t\ta: document.createElement('canvas'),\r\n\t\tb: document.createElement('canvas')\r\n\t};\r\n\tcanvas.b.style = `\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t`;\r\n\tcontainer.appendChild(canvas.b);\r\n\tctx = {\r\n\t\ta: canvas.a.getContext('2d'),\r\n\t\tb: canvas.b.getContext('2d')\r\n\t};\r\n}\r\n\r\nfunction resize() {\r\n\tconst { innerWidth, innerHeight } = window;\r\n\t\r\n\tcanvas.a.width = innerWidth;\r\n  canvas.a.height = innerHeight;\r\n\r\n  ctx.a.drawImage(canvas.b, 0, 0);\r\n\r\n\tcanvas.b.width = innerWidth;\r\n  canvas.b.height = innerHeight;\r\n  \r\n  ctx.b.drawImage(canvas.a, 0, 0);\r\n}\r\n\r\nfunction render() {\r\n  ctx.b.save();\r\n  ctx.b.filter = 'blur(50px)';\r\n  ctx.b.drawImage(canvas.a, 0, 0);\r\n  ctx.b.restore();\r\n}\r\n\r\nfunction draw() {\r\n  ctx.a.clearRect(0, 0, canvas.a.width, canvas.a.height);\r\n  ctx.b.fillStyle = backgroundColor;\r\n  ctx.b.fillRect(0, 0, canvas.b.width, canvas.b.height);\r\n  updateCircles();\r\n  render();\r\n\twindow.requestAnimationFrame(draw);\r\n}\r\n\r\nwindow.addEventListener('load', setup);\r\nwindow.addEventListener('resize', resize);"]}